{
	"$schema": "https://schema.railpack.com",
	"provider": "node",
	"packages": {
		"node": "20"
	},
	"steps": {
		"install": {
			"workdir": "/app",
			"commands": ["corepack enable", "pnpm install --frozen-lockfile"]
		},
		"build": {
			"workdir": "/app",
			"inputs": [{ "step": "install" }],
			"commands": ["pnpm turbo build --filter=@haspulse/api"]
		}
	},
	"deploy": {
		"startCommand": "node apps/api/dist/index.js",
		"inputs": [
			{
				"step": "build",
				"include": ["."]
			}
		]
	}
}
